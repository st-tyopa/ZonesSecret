#include "common.h"

//////////////////////////////////////////////////////////////////////////////////////////
// Pixel
float4 	main	( impl_vf_point I )	: COLOR
{
	float4 t_base		= tex2D(s_base,I.tc0);
	float4 t_att1 		= tex2D(s_lmap,I.tc1);	// point-att
	float4 t_att2 		= tex2D(s_att, I.tc2);	// point-att
	float4 t_att 		= t_att1*t_att2;
	
	float4 final 		= t_base*t_att*I.color*2;

	float3 t_dt 			= tex2D(s_detail,I.tcd).rgb;
		  final.rgb    *= t_dt*2;

	return final;
}